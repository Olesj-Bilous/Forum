@using Data.Entities
@model TopicViewModel
@{
    ViewBag.Title = Model.Topic.Name;
    ViewBag.Topic = Model.Topic;
    ViewBag.TopicsView = false;
    ViewBag.PostView = false;
    ViewBag.NewView = false;
}
<div class="topic mb-1">
    <partial name="_TopicHeader" view-data="ViewData"/>
    <div class="topic-body">
        @foreach (Post post in Model.Topic.Posts.OrderByDescending(x => x.RateSum))
        {
            ViewBag.Message = post;
            <div class="post mb-1">
                <partial name="_Message" view-data="ViewData" />
            </div>
        }
    </div>
</div>